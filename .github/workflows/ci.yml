name: CI

on:
  push:
    branches:
      - main
  pull_request:
  workflow_dispatch:

permissions:
  contents: read

concurrency:
  group: ci-${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

jobs:
  build:
    uses: GraphRapids/python-workflow-standards/.github/workflows/python-ci.yml@main
    with:
      python-version: "3.12"
      install-spec: ".[dev]"
      compile-files: "main.py src/graphapi/__init__.py src/graphapi/__main__.py src/graphapi/app.py"
    secrets: inherit
